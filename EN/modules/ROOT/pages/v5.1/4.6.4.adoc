
:sectnums:
:sectnumlevels: 5

= Docker & Podman deployment IvorySQL

== Running IvorySQL in docker

** Get IvorySQL image from Docker Hub

[source,bash,subs="attributes"]
```
$ docker pull ivorysql/IvorySQL {ivorysql-version}-ubi8
```

** Running IvorySQL

[source,bash,subs="attributes"]
```
$ docker run --name ivorysql -p 5434:5432 -e IVORYSQL_PASSWORD=your_password -d ivorysql/IvorySQL {ivorysql-version}-ubi8
```

** Check if the IvorySQL container is running successfully

[source,bash,subs="attributes"]
```
$ docker ps | grep ivorysql
CONTAINER ID   IMAGE               COMMAND                   CREATED          STATUS          PORTS                              NAMES
6faa2d0ed705   IvorySQL {ivorysql-version}-ubi8   "docker-entrypoint.s…"   50 seconds ago   Up 49 seconds   5866/tcp, 0.0.0.0:5434->5432/tcp   ivorysql
```

== Running with Podman

** Pull IvorySQL Image from Docker Hub

[source,bash,subs="attributes"]
```
[highgo@manager-node1 ~]$ podman pull ivorysql/IvorySQL {ivorysql-version}-ubi8
✔ docker.io/ivorysql/IvorySQL {ivorysql-version}-ubi8
Trying to pull docker.io/ivorysql/IvorySQL {ivorysql-version}-ubi8...
Getting image source signatures
Copying blob 5885448c5c88 done   |
Copying blob 6c502b378234 done   |
Copying blob 8b4f2b90d6b6 done   |
Copying blob 9b000f2935f6 done   |
Copying blob 806f782da874 done   |
Copying blob e4c51845a9eb done   |
Copying blob dcb1e9a04275 done   |
Copying blob 285a279173f8 done   |
Copying blob 1f6f247b9ae0 done   |
Copying blob 3cc81bed8614 done   |
Copying blob 863c87bf25eb done   |
Copying blob 4f4fb700ef54 done   |
Copying config 88e1bbeda8 done   |
Writing manifest to image destination
88e1bbeda81c51d88e12cbd2b19730498f1343d1c64bb3dddc8ffcb08a1f965f
```

** Run IvorySQL Container

[source,bash,subs="attributes"]
```
$ podman run --name ivorysql -p 5434:5432 -e IVORYSQL_PASSWORD=123456 -d ivorysql/IvorySQL {ivorysql-version}-ubi8
```

** Check if IvorySQL Container is Running Successfully

[source,bash,subs="attributes"]
```
[highgo@manager-node1 ~]$ podman ps | grep ivorysql
CONTAINER ID            IMAGE                       COMMAND          CREATED          STATUS          PORTS                                 NAMES
368dee58d5ef  docker.io/ivorysql/IvorySQL {ivorysql-version}-ubi8  postgres    20 seconds ago  Up 20 seconds  0.0.0.0:5434->5432/tcp, 1521/tcp, 5866/tcp  ivorysql

[highgo@manager-node1 ~]$ podman exec -it ivorysql /bin/bash
[root@8cc631eb413d /]#
ivorysql=# select version();
                                                        version
------------------------------------------------------------------------------------------------------------------------
 PostgreSQL 18.0 (IvorySQL {ivorysql-version}) on x86_64-pc-linux-gnu, compiled by gcc (GCC) 8.5.0 20210514 (Red Hat 8.5.0-28), 64-bit
(1 row)

ivorysql=#
```